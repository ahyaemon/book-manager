(function(e){function t(t){for(var o,i,l=t[0],s=t[1],u=t[2],d=0,h=[];d<l.length;d++)i=l[d],r[i]&&h.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);c&&c(t);while(h.length)h.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},r={app:0},n=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"08c2":function(e,t,a){e.exports=a.p+"img/github-brands.ec5bc1b3.svg"},"5c0b":function(e,t,a){"use strict";var o=a("6879"),r=a.n(o);r.a},6879:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),r=a("bb71");a("da64"),a("d1e7");o["default"].use(r["a"],{iconfont:"md"});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-toolbar",{attrs:{app:""}},[o("v-toolbar-items",[o("v-btn",{attrs:{icon:""},on:{click:e.jumpToGithub}},[o("v-img",{attrs:{src:a("08c2"),contain:"",height:"34"}})],1)],1),o("v-toolbar-title",[o("div",{staticClass:"mt-1"},[e._v("BOOK MANAGER")])]),o("v-spacer")],1),o("v-content",[o("v-container",{staticClass:"container",attrs:{fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.books,function(t){return[o("v-flex",{attrs:{"pt-3":"",xs12:""}},[o("v-card",{staticClass:"card",on:{click:function(a){return a.stopPropagation(),e.showUpdateDialog(t.id)}}},[o("v-card-title",[o("h1",[e._v(e._s(t.title))])]),o("v-card-text",[o("div",[e._v(e._s(t.author.name))]),o("div",[e._v(e._s(t.publisher.name))])])],1)],1)]})],2)],1),o("v-btn",{attrs:{color:"pink",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:function(t){return t.stopPropagation(),e.showCreateDialog()}}},[e._v("+")]),o("v-dialog",{staticClass:"create-dialog",attrs:{"max-width":"500"},model:{value:e.createDialog,callback:function(t){e.createDialog=t},expression:"createDialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("新規登録")]),o("v-card-text",[o("v-form",{ref:"createForm",attrs:{"lazy-validation":""}},[o("v-text-field",{staticClass:"pb-1",attrs:{label:"タイトル",required:"",counter:100},model:{value:e.newBook.title,callback:function(t){e.$set(e.newBook,"title",t)},expression:"newBook.title"}}),e.addNewAuthorCreate?e._e():o("v-autocomplete",{attrs:{items:e.authorItems,label:"著者"},model:{value:e.newBook.author.id,callback:function(t){e.$set(e.newBook.author,"id",t)},expression:"newBook.author.id"}}),e.addNewAuthorCreate?o("v-text-field",{attrs:{label:"著者を直接入力",required:"",counter:100},model:{value:e.newBook.author.name,callback:function(t){e.$set(e.newBook.author,"name",t)},expression:"newBook.author.name"}}):e._e(),o("v-btn",{attrs:{depressed:"",color:"white"},on:{click:e.noAuthorCreateClicked}},[o("v-icon",{staticClass:"green--text pr-1"},[e._v("help_outline")]),e.addNewAuthorCreate?e._e():o("span",{staticClass:"green--text"},[e._v("直接入力に変更（選択肢に無い場合）")]),e.addNewAuthorCreate?o("span",{staticClass:"green--text"},[e._v("選択肢に変更")]):e._e()],1),e.addNewPublisherCreate?e._e():o("v-autocomplete",{attrs:{items:e.publisherItems,label:"出版社"},model:{value:e.newBook.publisher.id,callback:function(t){e.$set(e.newBook.publisher,"id",t)},expression:"newBook.publisher.id"}}),e.addNewPublisherCreate?o("v-text-field",{attrs:{label:"出版社を直接入力",required:"",counter:100},model:{value:e.newBook.publisher.name,callback:function(t){e.$set(e.newBook.publisher,"name",t)},expression:"newBook.publisher.name"}}):e._e(),o("v-btn",{attrs:{depressed:"",color:"white"},on:{click:e.noPublisherCreateClicked}},[o("v-icon",{staticClass:"green--text pr-1"},[e._v("help_outline")]),e.addNewPublisherCreate?e._e():o("span",{staticClass:"green--text"},[e._v("直接入力に変更（選択肢に無い場合）")]),e.addNewPublisherCreate?o("span",{staticClass:"green--text"},[e._v("選択肢に変更")]):e._e()],1),o("br"),o("v-btn",{attrs:{color:"info"},on:{click:e.createBook}},[e._v("登録")])],1)],1)],1)],1),o("v-dialog",{staticClass:"update-dialog",attrs:{"max-width":"500"},model:{value:e.updateDialog,callback:function(t){e.updateDialog=t},expression:"updateDialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("更新")]),o("v-card-text",[o("v-form",[o("v-text-field",{attrs:{label:"タイトル",required:"",counter:100},model:{value:e.selectedBook.title,callback:function(t){e.$set(e.selectedBook,"title",t)},expression:"selectedBook.title"}}),e.addNewAuthorUpdate?e._e():o("v-autocomplete",{attrs:{items:e.authorItems,label:"著者を選択"},model:{value:e.selectedBook.author.id,callback:function(t){e.$set(e.selectedBook.author,"id",t)},expression:"selectedBook.author.id"}}),e.addNewAuthorUpdate?o("v-text-field",{attrs:{label:"著者を直接入力",required:"",counter:100},model:{value:e.selectedBook.author.name,callback:function(t){e.$set(e.selectedBook.author,"name",t)},expression:"selectedBook.author.name"}}):e._e(),o("v-btn",{attrs:{depressed:"",color:"white"},on:{click:e.noAuthorUpdateClicked}},[o("v-icon",{staticClass:"green--text pr-1"},[e._v("arrow_upward")]),e.addNewAuthorUpdate?e._e():o("span",{staticClass:"green--text"},[e._v("直接入力に変更（選択肢に無い場合）")]),e.addNewAuthorUpdate?o("span",{staticClass:"green--text"},[e._v("選択肢に変更")]):e._e()],1),e.addNewPublisherUpdate?e._e():o("v-autocomplete",{attrs:{items:e.publisherItems,label:"出版社を選択"},model:{value:e.selectedBook.publisher.id,callback:function(t){e.$set(e.selectedBook.publisher,"id",t)},expression:"selectedBook.publisher.id"}}),e.addNewPublisherUpdate?o("v-text-field",{attrs:{label:"出版社を直接入力",required:"",counter:100},model:{value:e.selectedBook.publisher.name,callback:function(t){e.$set(e.selectedBook.publisher,"name",t)},expression:"selectedBook.publisher.name"}}):e._e(),o("v-btn",{attrs:{depressed:"",color:"white"},on:{click:e.noPublisherUpdateClicked}},[o("v-icon",{staticClass:"green--text pr-1"},[e._v("arrow_upward")]),e.addNewPublisherUpdate?e._e():o("span",{staticClass:"green--text"},[e._v("直接入力に変更（選択肢に無い場合）")]),e.addNewPublisherUpdate?o("span",{staticClass:"green--text"},[e._v("選択肢に変更")]):e._e()],1),o("br"),o("v-btn",{attrs:{color:"info"},on:{click:e.updateBook}},[e._v("更新")]),o("v-btn",{attrs:{color:"error"},on:{click:e.deleteBook}},[e._v("削除")])],1)],1)],1)],1)],1)],1)},i=[],l=(a("96cf"),a("3b8d")),s=(a("7f7f"),a("7514"),a("d225")),u=a("b0b4"),c=a("308d"),d=a("6bb5"),h=a("4e2b"),p=a("9ab4"),b=a("60a3"),v=function(){function e(){Object(s["a"])(this,e)}return Object(u["a"])(e,null,[{key:"createDefaultBook",value:function(){return{id:null,title:"",author:{id:null,name:""},publisher:{id:null,name:""}}}}]),e}(),f=a("bc3a"),k=a.n(f),w=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.books=[],e.authors=[],e.publishers=[],e.selectedBook=v.createDefaultBook(),e.updateDialog=!1,e.addNewAuthorUpdate=!1,e.addNewPublisherUpdate=!1,e.newBook=v.createDefaultBook(),e.createDialog=!1,e.addNewAuthorCreate=!1,e.addNewPublisherCreate=!1,e}return Object(h["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=this;k.a.get("/api/book/initialize").then(function(t){e.books=t.data.books,e.authors=t.data.authors,e.publishers=t.data.publishers})}},{key:"showCreateDialog",value:function(e){this.createDialog=!0}},{key:"showUpdateDialog",value:function(e){this.updateDialog=!0;var t=this.books.find(function(t){return t.id===e});this.selectedBook={id:t.id,title:t.title,author:{id:t.author.id,name:t.author.name},publisher:{id:t.publisher.id,name:t.publisher.name}}}},{key:"createBook",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.addNewAuthorCreate&&(this.newBook.author.id=null),this.addNewPublisherCreate&&(this.newBook.publisher.id=null),e.next=4,k.a.post("/api/book/create",this.newBook).then(function(e){t.createDialog=!1});case 4:return e.next=6,k.a.get("/api/book/get").then(function(e){t.books=e.data});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"updateBook",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.addNewAuthorUpdate&&(this.selectedBook.author.id=null),this.addNewPublisherUpdate&&(this.selectedBook.publisher.id=null),e.next=4,k.a.post("/api/book/update",this.selectedBook).then(function(e){t.updateDialog=!1});case 4:return e.next=6,k.a.get("/api/book/get").then(function(e){t.books=e.data});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteBook",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("/api/book/delete",{id:this.selectedBook.id}).then(function(e){t.updateDialog=!1});case 2:return e.next=4,k.a.get("/api/book/get").then(function(e){t.books=e.data});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"jumpToGithub",value:function(){window.open("https://github.com/ahyaemon/book-manager","_blank")}},{key:"noAuthorCreateClicked",value:function(){this.addNewAuthorCreate=!this.addNewAuthorCreate,this.newBook.author.id=null,this.newBook.author.name=""}},{key:"noPublisherCreateClicked",value:function(){this.addNewPublisherCreate=!this.addNewPublisherCreate,this.newBook.publisher.id=null,this.newBook.publisher.name=""}},{key:"noAuthorUpdateClicked",value:function(){this.addNewAuthorUpdate=!this.addNewAuthorUpdate}},{key:"noPublisherUpdateClicked",value:function(){this.addNewPublisherUpdate=!this.addNewPublisherUpdate}},{key:"authorItems",get:function(){return this.authors.map(function(e){return{value:e.id,text:e.name}})}},{key:"publisherItems",get:function(){return this.publishers.map(function(e){return{value:e.id,text:e.name}})}}]),t}(b["b"]);w=p["a"]([b["a"]],w);var m=w,g=m,x=(a("5c0b"),a("2877")),B=a("6544"),C=a.n(B),_=a("7496"),y=a("c6a6"),N=a("8336"),P=a("b0af"),A=a("99d9"),O=a("12b2"),U=a("a523"),j=a("549c"),D=a("169a"),V=a("0e8f"),T=a("4bd4"),$=a("132d"),I=a("adda"),R=a("a722"),q=a("9910"),S=a("2677"),M=a("71d9"),F=a("2a7f"),G=Object(x["a"])(g,n,i,!1,null,null,null),z=G.exports;C()(G,{VApp:_["a"],VAutocomplete:y["a"],VBtn:N["a"],VCard:P["a"],VCardText:A["a"],VCardTitle:O["a"],VContainer:U["a"],VContent:j["a"],VDialog:D["a"],VFlex:V["a"],VForm:T["a"],VIcon:$["a"],VImg:I["a"],VLayout:R["a"],VSpacer:q["a"],VTextField:S["a"],VToolbar:M["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]}),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(z)}}).$mount("#app")}});
//# sourceMappingURL=app.e5f85d66.js.map